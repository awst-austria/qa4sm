<main *ngIf="datasetInfo$ | async as datasets">
    <div>
      <h1 class="h3 mb-3 font-weight-normal">Datasets - Data to be validated and to be used as a reference</h1>
      <p>
        The following datasets can be validated within the QA4SM tool. These datasets are available in both the "data"
        and the 'reference' sections and of the validate page.
      </p>
    </div>

    <table class="table table-bordered table-striped">
      <thead class="thead-dark">
      <tr>
        <th scope="col" style="width: 10%">Dataset</th>
        <th scope="col" style="width: 20%">Details</th>
        <th scope="col" style="width: 20%">Versions supported with Time Range Covered</th>
        <th scope="col" style="width: 15%">Data availability</th>
        <th scope="col" style="width: 10%">Citation</th>
        <th scope="col" style="width: 25%">Filters</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let dataset of datasets">
        <th scope="row">{{ dataset.pretty_name }}
          <sup *ngIf="dataset.not_as_reference">*</sup></th>
        <td [innerHTML]="dataset.detailed_description"></td>
        <td>
          <ul class="pl-0 my-0">
            <li *ngFor="let version of dataset.versions; let ind=index" class="ml-2">
              <b> {{ version }}</b> <br>
              <span *ngIf="dataset.versionsHelpText[ind] !== '-' && dataset.versionsHelpText[ind] !==''">
                ({{ dataset.versionsHelpText[ind] }}) <br>
              </span>
              <span *ngIf="dataset.versionsStart[ind] === '' && dataset.versionsEnd[ind] === ''; else elseTimeRange">
                Time coverage is station dependent
              </span>
              <ng-template #elseTimeRange>
                From: {{ dataset.versionsStart[ind]}} <br>
                To: {{dataset.versionsEnd[ind]}}
              </ng-template>
            </li>
          </ul>
        </td>
        <td [innerHTML]="dataset.source_reference"></td>
        <td [innerHTML]="dataset.citation"></td>
        <td>
          <ul class="pl-0  my-0">
            <li *ngFor="let filter of dataset.filters; let ind = index" class="ml-2">
              {{filter}}: {{dataset.filtersHelpText[ind]}}
            </li>
          </ul>
        </td>
      </tr>
      </tbody>
    </table>
    <span><sup>*</sup> dataset temporarily excluded from the reference list for technical reasons<br> </span>
    <br>
  <p-scrollTop styleClass="scroll-button"></p-scrollTop>
</main>
