<div class="p-grid">
  <!-- selection of the reference dataset -->
  <div class="p-md-6 p-col-12">
    <p-panel header="Reference dataset selection" [toggleable]="false">
      <ng-template pTemplate="icons">
        <label class="mb-0" pTooltip="Select from the menu below to access a list of available
        validations for comparison, based on common dataset and version."
               tooltipPosition="bottom">
          <span class="p-panel-header-icon pi pi-question-circle help-icon"></span>
        </label>
      </ng-template>
      <p-accordion multiple="false">
        <!-- here dataset/version selection -->
        <p-accordionTab *ngFor="let item of selectedDatasetModel; let datasetIdx = index"
          [header]=" 'Reference selection: ' + (selectedDatasetModel[0].datasetModel.selectedDataset?.pretty_name)+' / '+(selectedDatasetModel[datasetIdx].datasetModel.selectedVersion?.pretty_name)">

          <qa-dataset *ngIf="selectedDatasetModel[0].datasetModel.selectedDataset"
                      [removable]="false"
                      [selectionModel]="selectedDatasetModel[0].datasetModel"></qa-dataset>

        </p-accordionTab>
      </p-accordion>

      <!--  here selection of single or multiple non-reference validations. How to divide?  -->
      <div class="p-grid">
        <div class="p-col-12">
          <p-checkbox label="{{'Multiple non-reference datasets'}}" [(ngModel)]="max_datasets" [binary]="true"
          ></p-checkbox>
          <label class="p-panel-header-icon"
                 pTooltip="{{'Toggle to compare validations with 2 non-reference datasets'}}"
                 tooltipPosition="bottom">
            <span class="pi pi-question-circle p-ml-2"></span>
          </label>
        </div>
      </div>

    </p-panel>
  </div>

  <!-- selection of the validation results -->
  <div class="p-md-6 p-col-12">
    <p-panel header="Validations selection" [toggleable]="false">
      <ng-template pTemplate="icons">
        <label class="mb-0" pTooltip="You can choose as many as one or two validations from the list, according to the number of non-reference
        datasets contained (respectively, two or one). Tip: rename your validations to find them more easily."
               tooltipPosition="bottom">
          <span class="p-panel-header-icon pi pi-question-circle help-icon"></span>
        </label>
      </ng-template>
      <p-accordion multiple="true">
        <p-accordionTab>
<!--                        *ngFor="let item of this.comparisonModel.selectedValidations"-->
<!--                        [header]="'Start time: ' + (item.start_time) + '/ Name: ' + (item.name_tag)"> &lt;!&ndash; should be *ngFor loop with all the selected validations &ndash;&gt;-->

          <div class="p-grid">
            <div class="p-col-12">

              <div class="p-float-label p-m-2">

                <p-dropdown id="validationSelector" (onChange)="selectedValidationChanged()"
                            [options]="this.validations4Comparison"
                            [(ngModel)]="this.comparisonModel.selectedValidations"
                            optionLabel="description" [style]="{'width':'100%'}"></p-dropdown>
                <label for="validationSelector">Select a validation</label>
              </div>
            </div>
          </div>

          <button pButton type="button" (click)="removeValidation()"
                  label="Remove validation"
                  icon="pi pi-trash"
                  class="p-button-danger" style="padding: 0.2rem;"></button>
        </p-accordionTab>
        <button pButton type="button" label="Add validation" icon="pi pi-plus-circle" (click)="addValidation2Comparison()"
                class="p-button-success mt-2 mb-2" style="padding: 0.2rem;"
                [disabled]="addValidationButtonDisabled()"></button>

      </p-accordion>

    </p-panel>
  </div>

  <!-- selection of the spatial extent -->
  <div class="p-col-12">
    <p-panel header="Spatial extent" [toggleable]="true">
      <ng-template pTemplate="icons">
        <label class="p-panel-header-icon"
               pTooltip="Specify the spatial extent of the comparison. By default, the intersection of the spatial extents is chosen; in case of non-overlapping extents, the union is taken instead."
               tooltipPosition="bottom">
          <span class="pi pi-question-circle"></span>
        </label>
      </ng-template>
      <div class="p-grid">
        <div class="p-col-12">
<!--          <qa-spatial-extent [extentModel]="this.spatialExtent"-->
<!--                             [disabled]="true"></qa-spatial-extent>-->
        </div>
      </div>
    </p-panel>
  </div>
</div>

<!-- Start validation button -->
<div class="p-col-12">
  <div>
    <div class="p-d-flex p-jc-center">
      <p-button label="Compare" (onClick)="startComparison()"></p-button>
    </div>
  </div>
</div>
