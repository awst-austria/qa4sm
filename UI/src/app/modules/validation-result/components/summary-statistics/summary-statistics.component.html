<div *ngIf="(table$|async) as table" class="p-grid no-gutters">
      <div class="p-col-12">
        <p-panel [toggleable]="true" [collapsed]="true">
          <ng-template pTemplate="header">
            <div class="text-center my-1" style="width: 91%">
              <h4 class="my-0 font-weight-normal">Summary statistics</h4>
            </div>
          </ng-template>
          <ng-template pTemplate="icons">
            <label class="mb-0" pTooltip="Expand this section to inspect a table of statistics of the validation results."
                   tooltipPosition="bottom">
              <span class="p-panel-header-icon pi pi-question-circle"></span>
            </label>
          </ng-template>
          <div class="pb-3">The mean, median and standard deviation are calculated on the validation results aggregated by metric
            and dataset. The reference dataset used is {{ (refDataset$ | async)?.pretty_name }}
            ({{ (refDatasetVersion$ | async)?.pretty_name }}, {{ (refDatasetVariable$ | async)?.pretty_name }}).
          </div>
          <span [innerHtml]="table | dompurify"></span>
          <div class="d-flex justify-content-between align-items-center">
            <button type="button"
                    style="width: 12rem;"
                    class="btn btn-sm btn-primary"
                    title="Download the table to a .csv file"
                    (click)="getSummaryStatisticsAsCsv()">
              <span class="pi pi-download"></span> Download .csv table
            </button>
          </div>
        </p-panel>
      </div>
</div>
