<p-dialog 
  #dialog
  [header]="headerMessage"
  [(visible)]="showModal"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  [closeOnEscape]="true"
  [dismissableMask]="true"
  (onHide)="onWindowHide()"
  [styleClass]="dialogClasses">

  <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
    <div class="p-fluid">
      <span class="p-float-label mb-4">
        <input pInputText 
               id="username" 
               formControlName="username"
               class="w-full"
               [attr.disabled]="isLoading">
        <label for="username">Username or Email</label>
      </span>
    </div>

    <div class="p-fluid">
      <span class="p-float-label mb-4">
        <input pPassword 
               type="password"
               formControlName="password"
               class="w-full"
               [feedback]="false"
               [attr.disabled]="isLoading">
        <label for="password">Password</label>
      </span>
    </div>

    <button pButton 
            type="submit"
            [label]="isLoading ? 'Logging in...' : 'Log in'"
            [loading]="isLoading"
            [disabled]="!loginForm.valid || isLoading">
    </button>

    <div class="mt-3">
      <a [routerLink]="'/password-reset'" 
         (click)="onWindowHide()">
        Forgot your password?
      </a>
    </div>
    <div class="mt-3">
      <a [routerLink]="'/signup'"
         (click)="onWindowHide()">
        No account?
      </a>
    </div>
  </form>
</p-dialog>
