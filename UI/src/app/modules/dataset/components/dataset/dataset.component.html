<div class="grid align-content-center">
  <div class="col">
    <span class="p-float-label mb-4 mt-3">
    <p-dropdown [inputId]="'dataset_'+selectionModel.selectedDataset.id.toString()" (onChange)="onDatasetChange()" [options]="(datasets$|async)"
                [(ngModel)]="selectionModel.selectedDataset"
                optionLabel="pretty_name" [style]="{'width': '100%'}">
      <ng-template let-item pTemplate="item">
          <span>
            <span>{{item.pretty_name}} <em
              *ngIf="authService.authenticated.value">{{item.user === authService.currentUser.id ? "  (user data)" :
              (item.user !== authService.currentUser.id && item.is_shared ? ' (shared data)' : "")}}</em> </span>
          </span>
      </ng-template>
      <ng-template let-item pTemplate="selectedItem">
         <span>{{item.pretty_name}} <em
           *ngIf="authService.authenticated.value">{{item.user === authService.currentUser.id ? "  (user data)" :
           (item.user !== authService.currentUser.id && item.is_shared ? " (shared data)" : "")}}</em> </span>
      </ng-template>
    </p-dropdown>

      <label for="{{'dataset_' + selectionModel.selectedDataset.id.toString()}}">Dataset</label>
    </span>

  </div>
</div>

<div class="grid  align-content-center">
  <div class="col">
    <span class="p-float-label mb-4">
      <p-dropdown [inputId]="'version_'+selectionModel.selectedVersion.id.toString()"
                  [style]="{'width': '100%'}"
                  [options]="(selectableDatasetVersions$|async)"
                  [(ngModel)]="selectionModel.selectedVersion"
                  optionLabel="pretty_name"
                  (onChange)="onVersionChange()"></p-dropdown>
      <label for="{{'version_'+selectionModel.selectedVersion.id.toString()}}">Version</label>
    </span>

  </div>
</div>

<div class="grid  align-content-center">
  <div class="col">
    <span class="p-float-label">
      <p-dropdown [inputId]="'variable_'+selectionModel.selectedVariable.id.toString()" optionLabel="short_name" [style]="{'width': '100%'}"
                  [options]="(selectableDatasetVariables$|async)"
                  [(ngModel)]="selectionModel.selectedVariable">
        <ng-template let-item pTemplate="item">
          <span>
            <span>{{item.short_name}} [{{item.unit ? item.unit : 'n.a.'}}]</span>
          </span>
      </ng-template>
      <ng-template let-item pTemplate="selectedItem">
         <span>{{item.short_name}} [{{item.unit ? item.unit : 'n.a.'}}]</span>
      </ng-template>


      </p-dropdown>
            <label for="{{'variable_'+selectionModel.selectedVariable.id.toString()}}">Variable [units]</label>
    </span>

  </div>
</div>

